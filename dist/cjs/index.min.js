"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,o,t=require("vue");(o=e||(e={}))[o.Continue=100]="Continue",o[o.Success=200]="Success",o[o.Created=201]="Created",o[o.Accepted=202]="Accepted",o[o.NoContent=204]="NoContent",o[o.MovedPermenantly=301]="MovedPermenantly",o[o.TemporaryRedirect=307]="TemporaryRedirect",o[o.NotModified=304]="NotModified",o[o.BadRequest=400]="BadRequest",o[o.Unauthorized=401]="Unauthorized",o[o.PaymentRequired=402]="PaymentRequired",o[o.Forbidden=403]="Forbidden",o[o.NotFound=404]="NotFound",o[o.MethodNotAllowed=405]="MethodNotAllowed",o[o.RequestTimeout=408]="RequestTimeout",o[o.Conflict=409]="Conflict",o[o.Gone=410]="Gone",o[o.IAmATeapot=418]="IAmATeapot",o[o.UnprocessableEntity=422]="UnprocessableEntity",o[o.TooManyRequests=429]="TooManyRequests",o[o.InternalServerError=500]="InternalServerError",o[o.NotImplemented=501]="NotImplemented",o[o.BadGateway=502]="BadGateway",o[o.ServiceUnavailable=503]="ServiceUnavailable",o[o.GatewayTimeout=504]="GatewayTimeout",o[o.AuthenticationRequired=511]="AuthenticationRequired",Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});let n="https://maps.googleapis.com/maps/api/js";async function r(e,o,t,r){return l(e)||await async function(e,o,t,r,i={}){if(!l(e)){var a=async(o=2e3)=>{throw await async function(e){return new Promise((o=>setTimeout(o,e)))}(o),Error(`Timed out waiting for Google API to load [ ${e} / ${o} ]`)},s=()=>{var l=document.createElement("script");return l.id=`google-maps-${e}-js`,l.src=function(e,o,t=!0,r,l){let i=`${n}?libraries=${e}&sensors=false`;return o&&(i=`${i}&key=${o}`),r&&(i=`${i}&region=${r}`),l&&(i=`${i}&language=${l}`),t&&(i=`${i}&callback=${e}LoaderCallback`),i}(e,o,!0,t,r),document.querySelector("head").appendChild(l),new Promise((o=>{window[e+"LoaderCallback"]=()=>{o()}}))};return Promise.race(i.timeout?[a(i.timeout),s()]:[s()])}console.info(`Attempt to add script tag for the "${e}" library in Google Maps ignored as this tag already exists in the DOM${o?" [ "+o+"]":""}`)}(e,o,t,r),window.google}function l(e,o){return!!document.querySelector(`#google-maps-${e}-js`)}let i=t.ref(null),a=t.ref(null),s=()=>({map:i,api:a}),u=(e,o,n,r)=>{let l=null;const i=t.ref(null),{map:a,api:u}=s();return t.watch([a,n],((t,s,d)=>{a.value&&u.value&&(i.value=l=new u.value[e](Object.assign(Object.assign({},n.value),{map:a.value})),o.forEach((e=>{null==l||l.addListener(e,(o=>r(e,o)))}))),d((()=>{var e;l&&(null===(e=u.value)||void 0===e||e.event.clearInstanceListeners(l),l.setMap(null))}))})),{component:i}},d="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" "),c="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseup draggable_changed clickable_changed cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" "),p="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" "),m=p,g=p.concat(["bounds_changed"]),v=p.concat(["center_changed","radius_changed"]);var C=t.defineComponent({props:{apiKey:String,region:String,language:String,backgroundColor:String,center:Object,clickableIcons:{type:Boolean,default:void 0},controlSize:Number,disableDefaultUi:{type:Boolean,default:void 0},disableDoubleClickZoom:{type:Boolean,default:void 0},draggable:{type:Boolean,default:void 0},draggableCursor:String,draggingCursor:String,fullscreenControl:{type:Boolean,default:void 0},fullscreenControlPosition:String,gestureHandling:String,heading:Number,keyboardShortcuts:{type:Boolean,default:void 0},mapTypeControl:{type:Boolean,default:void 0},mapTypeControlOptions:Object,mapTypeId:{type:[Number,String]},maxZoom:Number,minZoom:Number,noClear:{type:Boolean,default:void 0},panControl:{type:Boolean,default:void 0},panControlPosition:String,restriction:Object,rotateControl:{type:Boolean,default:void 0},rotateControlPosition:String,scaleControl:{type:Boolean,default:void 0},scaleControlStyle:Number,scrollwheel:{type:Boolean,default:void 0},streetView:Object,streetViewControl:{type:Boolean,default:void 0},streetViewControlPosition:String,styles:Array,tilt:Number,zoom:Number,zoomControl:{type:Boolean,default:void 0},zoomControlPosition:String},emits:d,setup(e,{emit:o}){let n=t.ref(null),l=t.ref(!1),{map:i,api:a}=s(),u=()=>{var o,t,n,r,l;const i={backgroundColor:e.backgroundColor,center:e.center,clickableIcons:e.clickableIcons,controlSize:e.controlSize,disableDefaultUI:e.disableDefaultUi,disableDoubleClickZoom:e.disableDoubleClickZoom,draggable:e.draggable,draggableCursor:e.draggableCursor,draggingCursor:e.draggingCursor,fullscreenControl:e.fullscreenControl,fullscreenControlOptions:e.fullscreenControlPosition?{position:null===(o=a.value)||void 0===o?void 0:o.ControlPosition[e.fullscreenControlPosition]}:{},gestureHandling:e.gestureHandling,heading:e.heading,keyboardShortcuts:e.keyboardShortcuts,mapTypeControl:e.mapTypeControl,mapTypeControlOptions:e.mapTypeControlOptions,mapTypeId:e.mapTypeId,maxZoom:e.maxZoom,minZoom:e.minZoom,noClear:e.noClear,panControl:e.panControl,panControlOptions:e.panControlPosition?{position:null===(t=a.value)||void 0===t?void 0:t.ControlPosition[e.panControlPosition]}:{},restriction:e.restriction,rotateControl:e.rotateControl,rotateControlOptions:e.rotateControlPosition?{position:null===(n=a.value)||void 0===n?void 0:n.ControlPosition[e.rotateControlPosition]}:{},scaleControl:e.scaleControl,scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},scrollwheel:e.scrollwheel,streetView:e.streetView,streetViewControl:e.streetViewControl,streetViewControlOptions:e.streetViewControlPosition?{position:null===(r=a.value)||void 0===r?void 0:r.ControlPosition[e.streetViewControlPosition]}:{},styles:e.styles,tilt:e.tilt,zoom:e.zoom,zoomControl:e.zoomControl,zoomControlOptions:e.zoomControlPosition?{position:null===(l=a.value)||void 0===l?void 0:l.ControlPosition[e.zoomControlPosition]}:{}};return Object.keys(i).forEach((e=>void 0===i[e]&&delete i[e])),i};return t.onBeforeUnmount((()=>{var e;console.log("vue3-gmap: onBeforeUnmount"),i.value&&(null===(e=a.value)||void 0===e||e.event.clearInstanceListeners(i.value),console.log("vue3-gmap: unload"),function(e){null!==(e=document.querySelector(`#google-maps-${e}-js`))&&null!==e.parentNode&&(e.parentNode.removeChild(e),document.querySelectorAll('script[src*="googleapis.com"]').forEach((e=>{e.parentNode&&e.parentNode.removeChild(e)})),delete window.google.maps)}("places"))})),"undefined"!=typeof window&&r("places",e.apiKey,e.region,e.language).then((({maps:r})=>{({Map:r}=a.value=r),i.value=new r(n.value,u()),d.forEach((e=>{var t;null===(t=i.value)||void 0===t||t.addListener(e,(t=>o(e,t)))})),l.value=!0,r=Object.keys(e).filter((e=>!["center","zoom"].includes(e))).map((o=>t.toRef(e,o))),t.watch([()=>e.center,()=>e.zoom,...r],(([e,o],[t,n])=>{var r,l,a,s=u();s=function(e,o){var t,n={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>o.indexOf(t)&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)0>o.indexOf(t[r])&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]])}return n}(s,["center","zoom"]),null===(r=i.value)||void 0===r||r.setOptions(s),void 0!==o&&o!==n&&(null===(l=i.value)||void 0===l||l.setZoom(o)),!e||t&&e.lng===t.lng&&e.lat===t.lat||null===(a=i.value)||void 0===a||a.panTo(e)}))})),{mapRef:n,ready:l,map:i,api:a}}});let y={ref:"mapRef"};C.render=function(e,o,n,r,l,i){return t.openBlock(),t.createBlock("div",y,[t.renderSlot(e.$slots,"default")],512)},C.__file="src/components/GoogleMap.vue";var f=t.defineComponent({props:{options:{type:Object,required:!0}},emits:c,setup:(e,{emit:o})=>(e=t.toRef(e,"options"),{marker:u("Marker",c,e,o)}),render:()=>null}),b=t.defineComponent({props:{options:{type:Object,required:!0}},emits:p,setup:(e,{emit:o})=>(e=t.toRef(e,"options"),{polyline:u("Polyline",p,e,o)}),render:()=>null}),h=t.defineComponent({props:{options:{type:Object,required:!0}},emits:m,setup:(e,{emit:o})=>(e=t.toRef(e,"options"),{polygon:u("Polygon",m,e,o)}),render:()=>null}),w=t.defineComponent({props:{options:{type:Object,required:!0}},emits:g,setup:(e,{emit:o})=>(e=t.toRef(e,"options"),{rectangle:u("Rectangle",g,e,o)}),render:()=>null}),P=t.defineComponent({props:{options:{type:Object,required:!0}},emits:v,setup:(e,{emit:o})=>(e=t.toRef(e,"options"),{circle:u("Circle",v,e,o)}),render:()=>null}),S=t.defineComponent({props:{position:{type:String,required:!0},index:Number},setup(e){let o=t.ref(null),{map:n,api:r}=s();return t.watch([n,()=>e.position,()=>e.index],((t,l,i)=>{n.value&&r.value&&(e.index&&(o.value.index=e.index),o.value&&n.value.controls[r.value.ControlPosition[e.position]].push(o.value)),i((()=>{if(n.value&&r.value&&o.value){let e=void 0;n.value.controls[r.value.ControlPosition[l[1]]].forEach(((t,n)=>{t===o.value&&(e=n)})),e&&n.value.controls[r.value.ControlPosition[l[1]]].removeAt(e)}}))})),{controlRef:o}}});let k={ref:"controlRef"};S.render=function(e,o,n,r,l,i){return t.openBlock(),t.createBlock("div",k,[t.renderSlot(e.$slots,"default")],512)},S.__file="src/components/CustomControl.vue",exports.Circle=P,exports.CustomControl=S,exports.GoogleMap=C,exports.Marker=f,exports.Polygon=h,exports.Polyline=b,exports.Rectangle=w;
